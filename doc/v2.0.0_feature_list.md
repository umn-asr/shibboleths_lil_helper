Why a re-write for 2.0?
=======================

Now that it's been used for a couple of years, users know
what's good and what sucks about the tool--it's time to kill the suck
and beef this puppy up for the future.

Toolstack/Approach
---------
* Review other DSLish tools like Bundler, Berkshelf, or Chef to see
  what underlying gems + approaches are used to create pretty DSLs.
* Use Rspec to test the internal APIs + DSL behaviors
* Use httparty or something higher level instead of Net::Http?
* Use Thor for the command line interface.

The Suck That Needs to Die (Feature List)
--------------------------

Written as:

### Feature Name

* The Suck that Needs to Die

The details of the feature...

### Solid test coverage

* It sucks that there are no working tests

The tool should be re-written from the ground up using test driven
development.

### Better internal documentation

* It sucks that you only have the README for documentation

Documentation for the tool should be published to rdoc.info so users can
browse the internal docs + source code easier.

### slh generate shim_for rails

* It's dumb that the shim between an app and apache/IIS's exposure of shib
variables lives in a different plugin/module.  

The tool should be able to generate shim code for ruby, php, java, etc.  It should generate this via an ERB template that includes the version of SLH used to generate it.

### auth_lives_in :apache_conf
* For apache only users, it sucks that the auth code it generates
  has to live in shibboleth2.xml wacky-land instead of an apache.conf file.

There should be a "auth_lives_in :apache_conf" directive available for "for_apache_host" DSL blocks that can be used to set this.

### DevOps friendly internal APIs
* When you are doing DevOps with shibboleth, it sucks that there aren't
solid internal APIs that could be easily wrapped up into a Chef LWRP or
recipe to provision a shibified box end-to-end.

    The RSpec tests should provide strong coverage and illustration of
how to use the internal APIs as opposed to having everything in a
config.rb file.

### Tighter coupling with apps that require shib

* Though it's cool that we have one config.rb to define all shib service
providers, it sucks that the app repos that depend on shib don't have a
way of coupling with this config.

    There should be a "for_site_defined_in :some_git_repo" DSL option
    that can yank a git repo down and pull the app shib config into
    the central config. 

### Support Multi-IdP SP integrations

* The DSL cannot express a service provider that integrates with more
than 1 Identity Provider. Though this is rare case, the DSL ought
accommodate. This means service provider should be the top level
contruct rather than the IDP
